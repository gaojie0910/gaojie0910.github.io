import{r,q as w,h as y,b as p,c as f,e as t,t as k,u as x,d as v,w as M,k as R,p as $,n as b}from"./index-__V3Hi2D.js";import{_ as B,H as C}from"./Header-BDoBo6Sk.js";import{F as I}from"./Footer-C11qNDwo.js";const L={class:"music-container"},N={class:"music-grade"},S={__name:"Music",setup(u){const i=r(null),l=r(null),m=r(null),s=r({grade:0});let n=null,c=null,a=new w().getIconNames();a=a.filter(e=>{if(e!=="music")return e});function _(){let e=document.createElement("div");e.classList.add("music-list");let o=Math.floor(s.value.grade/100),d=[`<div class="music-item"><w-icon style="filter: hue-rotate(${o*20}deg);" class="music-item-icon" name="music" size="80px"></w-icon></div>`,`<div class="music-item"><w-icon style="filter: hue-rotate(${o*20}deg);" class="music-item-icon" name="${a[Math.floor(Math.random()*a.length)]}"  size="80px"></w-icon></div>`,`<div class="music-item"><w-icon style="filter: hue-rotate(${o*20}deg);" class="music-item-icon" name="${a[Math.floor(Math.random()*a.length)]}"  size="80px"></w-icon></div>`];d.sort(()=>Math.random()-.5),e.innerHTML+=d.join(""),i.value.appendChild(e)}function h(){n=new Audio("/sounds/dreams.mp3"),n.play(),n.loop=!0,c=setInterval(()=>{_()},1e3),i.value.addEventListener("pointerdown",e=>{if(e.target.classList.contains("music-item-icon")){let o=m.value.getBoundingClientRect().top-e.target.getBoundingClientRect().top,d=getComputedStyle(e.target).height.split("px")[0];e.target.getAttribute("name")=="music"&&o>0&&o<d?s.value.grade+=3:s.value.grade-=1}}),l.value.style.display="none"}function g(){n.pause(),n=null,clearInterval(c),c=null}return y(e=>{g()}),(e,o)=>(p(),f("div",L,[t("div",{class:"scene",ref_key:"screen",ref:i},[t("div",N,[t("span",null,k(s.value.grade),1)]),t("div",{class:"music-line",ref_key:"musicLineRef",ref:m},null,512),t("w-btn",{class:"music-start-btn",ref_key:"startBtnRef",ref:l,onClick:o[0]||(o[0]=d=>h())},"start",512)],512)]))}},E=u=>($("data-v-97ea2581"),u=u(),b(),u),z={class:"wrap"},H={class:"content"},V={style:{"overflow-x":"auto","scrollbar-width":"thin"}},A=["value"],F=E(()=>t("w-tab",{value:"music"},"music",-1)),G=[F],j={__name:"Game",setup(u){x();const i=r(null),l=r({component:"music"});return(m,s)=>(p(),f("div",{class:"wcp-container",onClick:s[1]||(s[1]=(...n)=>{var c,a;return((c=i.value)==null?void 0:c.hideMenu)&&((a=i.value)==null?void 0:a.hideMenu(...n))})},[v(C,{ref_key:"headerRef",ref:i},null,512),t("div",z,[t("div",H,[t("div",V,[t("w-tabs",{style:{width:"max-content",display:"block"},value:l.value.component,onChange:s[0]||(s[0]=n=>{l.value.component=n.detail.value})},G,40,A)]),t("div",null,[l.value.component=="music"?(p(),M(S,{key:0})):R("",!0)])])]),v(I)]))}},U=B(j,[["__scopeId","data-v-97ea2581"]]);export{U as default};
