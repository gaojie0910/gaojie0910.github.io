import{r as d,q as I,h as b,b as i,c as l,e as s,t as p,o as L,F as h,i as g,k as f,u as R,d as y,w,p as N,n as S}from"./index-KH4XniuF.js";import{_ as B,H as F}from"./Header-DmALDWOD.js";import{F as T}from"./Footer-CMkfJdcH.js";const D={class:"music-container"},E={class:"music-grade"},A={__name:"Music",setup(m){const t=d(null),u=d(null),_=d(null),a=d({grade:0});let e=null,o=null,c=new I().getIconNames();c=c.filter(n=>{if(n!=="music")return n});function k(){let n=document.createElement("div");n.classList.add("music-list");let r=Math.floor(a.value.grade/100),v=[`<div class="music-item"><w-icon style="filter: hue-rotate(${r*20}deg);" class="music-item-icon" name="music" size="80px"></w-icon></div>`,`<div class="music-item"><w-icon style="filter: hue-rotate(${r*20}deg);" class="music-item-icon" name="${c[Math.floor(Math.random()*c.length)]}"  size="80px"></w-icon></div>`,`<div class="music-item"><w-icon style="filter: hue-rotate(${r*20}deg);" class="music-item-icon" name="${c[Math.floor(Math.random()*c.length)]}"  size="80px"></w-icon></div>`];v.sort(()=>Math.random()-.5),n.innerHTML+=v.join(""),t.value.appendChild(n),setTimeout(()=>{n.remove()},2e3)}function $(){e=new Audio("/sounds/dreams.mp3"),e.play(),e.loop=!0,o=setInterval(()=>{k()},1e3),t.value.addEventListener("pointerdown",n=>{if(n.target.classList.contains("music-item-icon")){let r=_.value.getBoundingClientRect().top-n.target.getBoundingClientRect().top,v=getComputedStyle(n.target).height.split("px")[0];n.target.getAttribute("name")=="music"&&r>0&&r<v?a.value.grade+=3:a.value.grade-=1}}),u.value.style.display="none"}function M(){e.pause(),e=null,clearInterval(o),o=null}return b(n=>{e&&M()}),(n,r)=>(i(),l("div",D,[s("div",{class:"scene",ref_key:"screen",ref:t},[s("div",E,[s("span",null,p(a.value.grade),1)]),s("div",{class:"music-line",ref_key:"musicLineRef",ref:_},null,512),s("w-btn",{class:"music-start-btn",ref_key:"startBtnRef",ref:u,onClick:r[0]||(r[0]=v=>$())},"start",512)],512)]))}},z={class:"c-container"},H={class:"c-header"},V=["value"],G=["value"],j=["value"],q=s("span",{style:{"margin-left":"5px"}},"唱名",-1),U=[q],J=["value"],K=s("w-icon",{color:"#000",style:{"margin-left":"5px"},name:"guitar"},null,-1),O=[K],P={class:"c-body"},Q={style:{display:"inline-flex","flex-direction":"column",width:"max-content",padding:"10px"}},W={key:0},X={key:1},Y={__name:"C",setup(m){const t=d({current:1,singName:!1,guitar:!1,music:[{type:"1",name:"小蜜蜂",easyItems:[5,3,3,0,"|",4,2,2,0,"|",1,2,3,4,"|",5,5,5,0,"|",5,3,3,0,"|",4,2,2,0,"|",1,3,5,5,"|",3,"-",0,0,"|",2,2,2,2,"|",2,3,4,0,"|",3,3,3,3,"|",3,4,5,0,"|",5,3,3,0,"|",4,2,2,0,"|",1,3,5,5,"|",1,"-","-","-"]},{type:"2",name:"茉莉花",easyItems:[3,"3_","5_","6_","1+_","1+_","6_","|","5","5_","6_",5,0,"|",3,"3_","5_","6_","1+_","1+_","6_","|","5","5_","6_",5,0,"|",5,5,5,"3_","5_","|","6",6,5,"0","|","3","2_","3_",5,"3_","2_","|",1,"1_","2_","1",0,"|","3_","2_","1_","3_",2,"-","3_","|",5,"6_","1_",5,0,"|",2,"3_","5_","2_","3_","1_","6-_","|","5-","0","6-","1","|","2","-","3_","1_","2_","1_","6-","|","5-"]}],C:{"|":["|","|"],"-":["-","-"],0:["0","0"],"3-":["Mib","6-0"],"4-":["Fab","6-1"],"5-":["Solb","6-3"],"6-":["Lab","5-0"],"7-":["Tib","5-2"],"5-_":["Solb","6-3"],"6-_":["Lab","5-0"],"7-_":["Tib","5-2"],1:["Do","5-3"],2:["Re","4-0"],3:["Mi","4-2"],4:["Fa","4-3"],5:["Sol","3-0"],6:["La","3-2"],7:["Ti","2-0"],"1+":["Do#","2-1"],"1_":["Do","5-3"],"2_":["Re","4-0"],"3_":["Mi","4-2"],"4_":["Fa","4-3"],"5_":["Sol","3-0"],"6_":["La","3-2"],"7_":["Ti","2-0"],"1+_":["Do#","2-1"]}});function u(){t.value.music.forEach((_,a)=>{let e=[];_.easyItems.map((o,c)=>{e.push([o,...C[o]])}),_.easyItems=e})}return L(()=>{u()}),b(_=>{}),(_,a)=>(i(),l("div",z,[s("div",H,[s("w-select",{value:t.value.current,onChange:a[0]||(a[0]=e=>{t.value.current=e.detail.value})},[(i(!0),l(h,null,g(t.value.music,e=>(i(),l("option",{value:e.type},p(e.name),9,G))),256))],40,V),s("w-checkbox",{value:t.value.singName,onChange:a[1]||(a[1]=e=>{e.target.hasAttribute("checked")?t.value.singName=!0:t.value.singName=!1})},U,40,j),s("w-checkbox",{value:t.value.guitar,onChange:a[2]||(a[2]=e=>{e.target.hasAttribute("checked")?t.value.guitar=!0:t.value.guitar=!1})},O,40,J)]),s("div",P,[(i(!0),l(h,null,g(t.value.music,e=>(i(),l(h,null,[e.type==t.value.current?(i(!0),l(h,{key:0},g(e.easyItems,o=>(i(),l("div",Q,[s("span",null,p(o[0]),1),t.value.singName?(i(),l("span",W,p(o[1]),1)):f("",!0),t.value.guitar?(i(),l("span",X,p(o[2]),1)):f("",!0)]))),256)):f("",!0)],64))),256))])]))}},x=m=>(N("data-v-fbc983fe"),m=m(),S(),m),Z={class:"wrap"},ee={class:"content"},te={style:{"overflow-x":"auto","scrollbar-width":"thin"}},se=["value"],ae=x(()=>s("w-tab",{value:"music"},"music",-1)),ne=x(()=>s("w-tab",{value:"c"},"c",-1)),oe=[ae,ne],ie={__name:"Game",setup(m){R();const t=d(null),u=d({component:"music"});return(_,a)=>(i(),l("div",{class:"wcp-container",onClick:a[1]||(a[1]=(...e)=>{var o,c;return((o=t.value)==null?void 0:o.hideMenu)&&((c=t.value)==null?void 0:c.hideMenu(...e))})},[y(F,{ref_key:"headerRef",ref:t},null,512),s("div",Z,[s("div",ee,[s("div",te,[s("w-tabs",{style:{width:"max-content",display:"block"},value:u.value.component,onChange:a[0]||(a[0]=e=>{u.value.component=e.detail.value})},oe,40,se)]),s("div",null,[u.value.component=="music"?(i(),w(A,{key:0})):u.value.component=="c"?(i(),w(Y,{key:1})):f("",!0)])])]),y(T)]))}},re=B(ie,[["__scopeId","data-v-fbc983fe"]]);export{re as default};
