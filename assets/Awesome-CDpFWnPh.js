import{r as m,l as S,f as x,a as o,c as u,d as s,t as v,o as $,F as h,g,i as y,p as M,e as C,u as B,b as I,n as w}from"./index-DIhgogVj.js";import{_ as b,H as E}from"./Header-DsVXt2Vl.js";import{F as T}from"./Footer-C_JJ1VAf.js";const A={class:"music-container"},F={class:"music-grade"},D={__name:"Icon",setup(r){const e=m(null),c=m(null),l=m(null),a=m({grade:0});let t=null,n=null,_=new S().getIconNames();_=_.filter(i=>{if(i!=="music")return i});function f(){let i=document.createElement("div");i.classList.add("music-list");let d=Math.floor(a.value.grade/100),p=[`<div class="music-item"><w-icon style="filter: hue-rotate(${d*20}deg);" class="music-item-icon" name="music" size="80px"></w-icon></div>`,`<div class="music-item"><w-icon style="filter: hue-rotate(${d*20}deg);" class="music-item-icon" name="${_[Math.floor(Math.random()*_.length)]}"  size="80px"></w-icon></div>`,`<div class="music-item"><w-icon style="filter: hue-rotate(${d*20}deg);" class="music-item-icon" name="${_[Math.floor(Math.random()*_.length)]}"  size="80px"></w-icon></div>`];p.sort(()=>Math.random()-.5),i.innerHTML+=p.join(""),e.value.appendChild(i),setTimeout(()=>{i.remove()},2e3)}function L(){t=new Audio("https://njfile.netlify.app/audios/dreams.mp3"),t.play(),t.loop=!0,n=setInterval(()=>{f()},1e3),e.value.addEventListener("pointerdown",i=>{if(i.target.classList.contains("music-item-icon")){let d=l.value.getBoundingClientRect().top-i.target.getBoundingClientRect().top,p=getComputedStyle(i.target).height.split("px")[0];i.target.getAttribute("name")=="music"&&d>0&&d<p?a.value.grade+=3:a.value.grade-=1}}),c.value.style.display="none"}function N(){t.pause(),t=null,clearInterval(n),n=null}return x(i=>{t&&N()}),(i,d)=>(o(),u("div",A,[s("div",{class:"scene",ref_key:"screen",ref:e},[s("div",F,[s("span",null,v(a.value.grade),1)]),s("div",{class:"music-line",ref_key:"musicLineRef",ref:l},null,512),s("w-btn",{class:"music-start-btn",ref_key:"startBtnRef",ref:c,onClick:d[0]||(d[0]=p=>L())},"start",512)],512)]))}},j=b(D,[["__scopeId","data-v-284a0ef1"]]),R=r=>(M("data-v-7ded30ab"),r=r(),C(),r),z={class:"c-container"},H={class:"c-header"},V=["value"],q=["value"],U=["value"],G=R(()=>s("span",{style:{"margin-left":"5px"}},"唱名",-1)),J=[G],K=["value"],O=R(()=>s("w-icon",{color:"#000",style:{"margin-left":"5px"},name:"guitar"},null,-1)),P=[O],Q={class:"c-body"},W={style:{display:"inline-flex","flex-direction":"column",width:"max-content",padding:"10px"}},X={key:0},Y={key:1},Z={__name:"Music",setup(r){const e=m({current:1,singName:!1,guitar:!0,music:[{type:"1",name:"Alphabet",easyItems:[1,1,5,5,"|",6,6,5,"-","|",4,4,3,3,"|","2_","2_","2_","2_",1,"-","|",5,5,4,4,"|",3,3,2,"-","|",5,5,4,4,"|",3,3,2,"-","|",1,1,5,5,"|",6,6,5,"-","|",4,4,3,3,"|",2,2,1,"-"]},{type:"2",name:"茉莉花",easyItems:[3,"3_","5_","6_","1+_","1+_","6_","|","5","5_","6_",5,0,"|",3,"3_","5_","6_","1+_","1+_","6_","|","5","5_","6_",5,0,"|",5,5,5,"3_","5_","|","6",6,5,"0","|","3","2_","3_",5,"3_","2_","|",1,"1_","2_","1",0,"|","3_","2_","1_","3_",2,"-","3_","|",5,"6_","1_",5,0,"|",2,"3_","5_","2_","3_","1_","6-_","|","5-","0","6-","1","|","2","-","3_","1_","2_","1_","6-","|","5-"]}],C:{"|":["|","|"],"-":["-","-"],0:["0","0"],"3-":["Mib","6-0"],"4-":["Fab","6-1"],"5-":["Solb","6-3"],"6-":["Lab","5-0"],"7-":["Tib","5-2"],"5-_":["Solb","6-3"],"6-_":["Lab","5-0"],"7-_":["Tib","5-2"],1:["Do","5-3"],2:["Re","4-0"],3:["Mi","4-2"],4:["Fa","4-3"],5:["Sol","3-0"],6:["La","3-2"],7:["Ti","2-0"],"1+":["Do#","2-1"],"1_":["Do","5-3"],"2_":["Re","4-0"],"3_":["Mi","4-2"],"4_":["Fa","4-3"],"5_":["Sol","3-0"],"6_":["La","3-2"],"7_":["Ti","2-0"],"1+_":["Do#","2-1"]}});function c(){e.value.music.forEach((l,a)=>{let t=[];l.easyItems.map((n,_)=>{t.push([n,...e.value.C[n]])}),l.easyItems=t})}return $(()=>{c()}),x(l=>{}),(l,a)=>(o(),u("div",z,[s("div",H,[s("w-select",{value:e.value.current,onChange:a[0]||(a[0]=t=>{e.value.current=t.detail.value})},[(o(!0),u(h,null,g(e.value.music,t=>(o(),u("option",{value:t.type},v(t.name),9,q))),256))],40,V),s("w-checkbox",{value:e.value.singName,onChange:a[1]||(a[1]=t=>{t.target.hasAttribute("checked")?e.value.singName=!0:e.value.singName=!1})},J,40,U),s("w-checkbox",{checked:"",value:e.value.guitar,onChange:a[2]||(a[2]=t=>{t.target.hasAttribute("checked")?e.value.guitar=!0:e.value.guitar=!1})},P,40,K)]),s("div",Q,[(o(!0),u(h,null,g(e.value.music,t=>(o(),u(h,null,[t.type==e.value.current?(o(!0),u(h,{key:0},g(t.easyItems,n=>(o(),u("div",W,[s("span",null,v(n[0]),1),e.value.singName?(o(),u("span",X,v(n[1]),1)):y("",!0),e.value.guitar?(o(),u("span",Y,v(n[2]),1)):y("",!0)]))),256)):y("",!0)],64))),256))])]))}},ee=b(Z,[["__scopeId","data-v-7ded30ab"]]),te={class:"mp3-container"},ae={class:"mp3-content"},se=["value"],ne=["value"],oe=["src"],le={__name:"Mp3",setup(r){const e=m({current:"https://njfile.netlify.app/audios/江南.mp3",music:[{name:"江南"},{name:"年轻的战场"},{name:"茉莉花"},{name:"这就是爱"},{name:"醉赤壁"},{name:"鲸"},{name:"天下"}]}),c=m(null);function l(a){e.value.current=a.detail.value[0],setTimeout(()=>{c.value.play()},0)}return $(()=>{e.value.music.forEach((a,t)=>{a.path="https://njfile.netlify.app/audios/"+a.name+".mp3"}),c.value.addEventListener("ended",a=>{e.value.music.forEach((t,n)=>{});for(let t=0;t<e.value.music.length;t++)if(e.value.current==e.value.music[t].path){t==e.value.music.length-1?e.value.current=e.value.music[0].path:e.value.current=e.value.music[t+1].path;break}console.log(e.value.current),setTimeout(()=>{c.value.play()},0)})}),x(a=>{}),(a,t)=>(o(),u("div",te,[s("div",ae,[s("w-select",{value:e.value.current,onChange:l},[(o(!0),u(h,null,g(e.value.music,n=>(o(),u("option",{value:n.path},v(n.name),9,ne))),256))],40,se),s("w-player",{ref_key:"playerRef",ref:c,style:{width:"200px",height:"100px"},src:e.value.current},null,8,oe)])]))}},ie=b(le,[["__scopeId","data-v-e93af384"]]),k=r=>(M("data-v-9b83badb"),r=r(),C(),r),ue={class:"wrap"},ce={class:"content"},re={style:{"overflow-x":"auto","scrollbar-width":"thin"}},_e=["value"],de=k(()=>s("w-tab",{value:"icon"},"icon",-1)),me=k(()=>s("w-tab",{value:"music"},"music",-1)),ve=k(()=>s("w-tab",{value:"mp3"},"mp3",-1)),pe=[de,me,ve],he={__name:"Awesome",setup(r){const e=B(),c=m(null),l=m({tab:"icon"});return $(()=>{const a=e.currentRoute.value.query.tab;a&&(l.value.tab=a)}),(a,t)=>(o(),u("div",{class:"wcp-container",onClick:t[1]||(t[1]=(...n)=>{var _,f;return((_=c.value)==null?void 0:_.hideMenu)&&((f=c.value)==null?void 0:f.hideMenu(...n))})},[I(E,{ref_key:"headerRef",ref:c},null,512),s("div",ue,[s("div",ce,[s("div",re,[s("w-tabs",{style:{width:"max-content",display:"block"},value:l.value.tab,onChange:t[0]||(t[0]=n=>{l.value.tab=n.detail.value})},pe,40,_e)]),s("div",null,[l.value.tab=="icon"?(o(),w(j,{key:0})):l.value.tab=="music"?(o(),w(ee,{key:1})):l.value.tab=="mp3"?(o(),w(ie,{key:2})):y("",!0)])])]),I(T)]))}},be=b(he,[["__scopeId","data-v-9b83badb"]]);export{be as default};
