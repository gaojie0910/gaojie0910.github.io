import{r as d,m as I,g as x,a as l,c as u,e as s,t as p,o as k,F as f,f as y,i as g,u as R,b,q as w,p as L,l as N}from"./index-CwlV3a58.js";import{_ as S,H as B}from"./Header-DLHBCzX6.js";import{F}from"./Footer-B72wK-c_.js";const T={class:"music-container"},A={class:"music-grade"},D={__name:"Icon",setup(m){const t=d(null),_=d(null),i=d(null),a=d({grade:0});let e=null,n=null,r=new I().getIconNames();r=r.filter(o=>{if(o!=="music")return o});function h(){let o=document.createElement("div");o.classList.add("music-list");let c=Math.floor(a.value.grade/100),v=[`<div class="music-item"><w-icon style="filter: hue-rotate(${c*20}deg);" class="music-item-icon" name="music" size="80px"></w-icon></div>`,`<div class="music-item"><w-icon style="filter: hue-rotate(${c*20}deg);" class="music-item-icon" name="${r[Math.floor(Math.random()*r.length)]}"  size="80px"></w-icon></div>`,`<div class="music-item"><w-icon style="filter: hue-rotate(${c*20}deg);" class="music-item-icon" name="${r[Math.floor(Math.random()*r.length)]}"  size="80px"></w-icon></div>`];v.sort(()=>Math.random()-.5),o.innerHTML+=v.join(""),t.value.appendChild(o),setTimeout(()=>{o.remove()},2e3)}function C(){e=new Audio("/sounds/dreams.mp3"),e.play(),e.loop=!0,n=setInterval(()=>{h()},1e3),t.value.addEventListener("pointerdown",o=>{if(o.target.classList.contains("music-item-icon")){let c=i.value.getBoundingClientRect().top-o.target.getBoundingClientRect().top,v=getComputedStyle(o.target).height.split("px")[0];o.target.getAttribute("name")=="music"&&c>0&&c<v?a.value.grade+=3:a.value.grade-=1}}),_.value.style.display="none"}function M(){e.pause(),e=null,clearInterval(n),n=null}return x(o=>{e&&M()}),(o,c)=>(l(),u("div",T,[s("div",{class:"scene",ref_key:"screen",ref:t},[s("div",A,[s("span",null,p(a.value.grade),1)]),s("div",{class:"music-line",ref_key:"musicLineRef",ref:i},null,512),s("w-btn",{class:"music-start-btn",ref_key:"startBtnRef",ref:_,onClick:c[0]||(c[0]=v=>C())},"start",512)],512)]))}},E={class:"c-container"},z={class:"c-header"},H=["value"],V=["value"],q=["value"],G=s("span",{style:{"margin-left":"5px"}},"唱名",-1),j=[G],U=["value"],J=s("w-icon",{color:"#000",style:{"margin-left":"5px"},name:"guitar"},null,-1),K=[J],O={class:"c-body"},P={style:{display:"inline-flex","flex-direction":"column",width:"max-content",padding:"10px"}},Q={key:0},W={key:1},X={__name:"C",setup(m){const t=d({current:1,singName:!1,guitar:!0,music:[{type:"1",name:"Alphabet",easyItems:[1,1,5,5,"|",6,6,5,"-","|",4,4,3,3,"|","2_","2_","2_","2_",1,"-","|",5,5,4,4,"|",3,3,2,"-","|",5,5,4,4,"|",3,3,2,"-","|",1,1,5,5,"|",6,6,5,"-","|",4,4,3,3,"|",2,2,1,"-"]},{type:"2",name:"茉莉花",easyItems:[3,"3_","5_","6_","1+_","1+_","6_","|","5","5_","6_",5,0,"|",3,"3_","5_","6_","1+_","1+_","6_","|","5","5_","6_",5,0,"|",5,5,5,"3_","5_","|","6",6,5,"0","|","3","2_","3_",5,"3_","2_","|",1,"1_","2_","1",0,"|","3_","2_","1_","3_",2,"-","3_","|",5,"6_","1_",5,0,"|",2,"3_","5_","2_","3_","1_","6-_","|","5-","0","6-","1","|","2","-","3_","1_","2_","1_","6-","|","5-"]}],C:{"|":["|","|"],"-":["-","-"],0:["0","0"],"3-":["Mib","6-0"],"4-":["Fab","6-1"],"5-":["Solb","6-3"],"6-":["Lab","5-0"],"7-":["Tib","5-2"],"5-_":["Solb","6-3"],"6-_":["Lab","5-0"],"7-_":["Tib","5-2"],1:["Do","5-3"],2:["Re","4-0"],3:["Mi","4-2"],4:["Fa","4-3"],5:["Sol","3-0"],6:["La","3-2"],7:["Ti","2-0"],"1+":["Do#","2-1"],"1_":["Do","5-3"],"2_":["Re","4-0"],"3_":["Mi","4-2"],"4_":["Fa","4-3"],"5_":["Sol","3-0"],"6_":["La","3-2"],"7_":["Ti","2-0"],"1+_":["Do#","2-1"]}});function _(){t.value.music.forEach((i,a)=>{let e=[];i.easyItems.map((n,r)=>{e.push([n,...t.value.C[n]])}),i.easyItems=e})}return k(()=>{_()}),x(i=>{}),(i,a)=>(l(),u("div",E,[s("div",z,[s("w-select",{value:t.value.current,onChange:a[0]||(a[0]=e=>{t.value.current=e.detail.value})},[(l(!0),u(f,null,y(t.value.music,e=>(l(),u("option",{value:e.type},p(e.name),9,V))),256))],40,H),s("w-checkbox",{value:t.value.singName,onChange:a[1]||(a[1]=e=>{e.target.hasAttribute("checked")?t.value.singName=!0:t.value.singName=!1})},j,40,q),s("w-checkbox",{checked:"",value:t.value.guitar,onChange:a[2]||(a[2]=e=>{e.target.hasAttribute("checked")?t.value.guitar=!0:t.value.guitar=!1})},K,40,U)]),s("div",O,[(l(!0),u(f,null,y(t.value.music,e=>(l(),u(f,null,[e.type==t.value.current?(l(!0),u(f,{key:0},y(e.easyItems,n=>(l(),u("div",P,[s("span",null,p(n[0]),1),t.value.singName?(l(),u("span",Q,p(n[1]),1)):g("",!0),t.value.guitar?(l(),u("span",W,p(n[2]),1)):g("",!0)]))),256)):g("",!0)],64))),256))])]))}},$=m=>(L("data-v-e7ea3d14"),m=m(),N(),m),Y={class:"wrap"},Z={class:"content"},ee={style:{"overflow-x":"auto","scrollbar-width":"thin"}},te=["value"],se=$(()=>s("w-tab",{value:"icon"},"icon",-1)),ae=$(()=>s("w-tab",{value:"c"},"c",-1)),ne=[se,ae],oe={__name:"Game",setup(m){const t=R(),_=d(null),i=d({tab:"icon"});return k(()=>{const a=t.currentRoute.value.query.tab;a&&(i.value.tab=a)}),(a,e)=>(l(),u("div",{class:"wcp-container",onClick:e[1]||(e[1]=(...n)=>{var r,h;return((r=_.value)==null?void 0:r.hideMenu)&&((h=_.value)==null?void 0:h.hideMenu(...n))})},[b(B,{ref_key:"headerRef",ref:_},null,512),s("div",Y,[s("div",Z,[s("div",ee,[s("w-tabs",{style:{width:"max-content",display:"block"},value:i.value.tab,onChange:e[0]||(e[0]=n=>{i.value.tab=n.detail.value})},ne,40,te)]),s("div",null,[i.value.tab=="icon"?(l(),w(D,{key:0})):i.value.tab=="c"?(l(),w(X,{key:1})):g("",!0)])])]),b(F)]))}},re=S(oe,[["__scopeId","data-v-e7ea3d14"]]);export{re as default};
