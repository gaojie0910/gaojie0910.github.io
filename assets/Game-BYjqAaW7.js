import{r as c,q as _,o as g,b as p,c as f,e as a,t as h,u as w,d as v,w as k,k as y,p as x,n as M}from"./index-oukSeTFc.js";import{_ as R,H as b}from"./Header-B3Fs7IJV.js";import{F as B}from"./Footer-Cjdp1b_o.js";const C={class:"music-container"},L={class:"music-grade"},I={__name:"Music",setup(l){const i=c(null),o=c(null),m=c(null),e=c({grade:0});let n=new _().getIconNames();n=n.filter(t=>{if(t!=="music")return t});function u(){let t=document.createElement("div");t.classList.add("music-list");let s="step-0";e.value.grade>=100&&(s="step-1"),e.value.grade>=200&&(s="step-2"),e.value.grade>=300&&(s="step-3"),e.value.grade>=400&&(s="step-4"),e.value.grade>=500&&(s="step-5"),i.value.classList.add(s);let r=['<div class="music-item"><w-icon class="music-item-icon" name="music" size="80px"></w-icon></div>',`<div class="music-item"><w-icon class="music-item-icon" name="${n[Math.floor(Math.random()*n.length)]}"  size="80px"></w-icon></div>`,`<div class="music-item"><w-icon class="music-item-icon" name="${n[Math.floor(Math.random()*n.length)]}"  size="80px"></w-icon></div>`];r.sort(()=>Math.random()-.5),t.innerHTML+=r.join(""),i.value.appendChild(t)}function d(){setInterval(()=>{u()},1e3),i.value.addEventListener("pointerdown",t=>{if(t.target.classList.contains("music-item-icon")){let s=m.value.getBoundingClientRect().top-t.target.getBoundingClientRect().top,r=getComputedStyle(t.target).height.split("px")[0];t.target.getAttribute("name")=="music"&&s>0&&s<r?e.value.grade+=3:e.value.grade-=1}}),o.value.style.display="none"}return g(t=>{}),(t,s)=>(p(),f("div",C,[a("div",{class:"scene",ref_key:"screen",ref:i},[a("div",L,[a("span",null,h(e.value.grade),1)]),a("div",{class:"music-line",ref_key:"musicLineRef",ref:m},null,512),a("w-btn",{class:"music-start-btn",ref_key:"startBtnRef",ref:o,onClick:s[0]||(s[0]=r=>d())},"start",512)],512)]))}},$=l=>(x("data-v-97ea2581"),l=l(),M(),l),N={class:"wrap"},S={class:"content"},E={style:{"overflow-x":"auto","scrollbar-width":"thin"}},z=["value"],H=$(()=>a("w-tab",{value:"music"},"music",-1)),V=[H],F={__name:"Game",setup(l){w();const i=c(null),o=c({component:"music"});return(m,e)=>(p(),f("div",{class:"wcp-container",onClick:e[1]||(e[1]=(...n)=>{var u,d;return((u=i.value)==null?void 0:u.hideMenu)&&((d=i.value)==null?void 0:d.hideMenu(...n))})},[v(b,{ref_key:"headerRef",ref:i},null,512),a("div",N,[a("div",S,[a("div",E,[a("w-tabs",{style:{width:"max-content",display:"block"},value:o.value.component,onChange:e[0]||(e[0]=n=>{o.value.component=n.detail.value})},V,40,z)]),a("div",null,[o.value.component=="music"?(p(),k(I,{key:0})):y("",!0)])])]),v(B)]))}},A=R(F,[["__scopeId","data-v-97ea2581"]]);export{A as default};
